
<html l<!DOCTYPE html>ang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English Quiz - Programmer Bilal Mohammed</title>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&family=Outfit:wght@300;400;600&family=Fira+Code:wght@400;500;600&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            /* PROFESSIONAL DARK BACKGROUND */
            --bg-gradient: linear-gradient(135deg, #050505 0%, #1a1a1a 100%);
            
            /* Card Style - Blue Glow Frame */
            --card-bg: rgba(0, 0, 0, 0.6);
            --card-border: 1px solid #38bdf8;
            --card-glow: 0 0 25px rgba(56, 189, 248, 0.15);
            
            --text-main: #ffffff;
            --text-secondary: #a3a3a3;
            
            /* Accent Colors */
            --accent: #38bdf8; 
            --accent-gradient: linear-gradient(90deg, #38bdf8, #2563eb);
            
            --correct: #10b981;
            --correct-bg: rgba(16, 185, 129, 0.15);
            --wrong: #ef4444;
            --wrong-bg: rgba(239, 68, 68, 0.15);
            
            --code-font: 'Fira Code', monospace;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Outfit', sans-serif;
            background: var(--bg-gradient);
            color: var(--text-main);
            line-height: 1.5;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            background-attachment: fixed;
            overflow-x: hidden;
        }

        .ar {
            font-family: 'Cairo', sans-serif;
            direction: rtl;
        }

        /* Background Animation */
        body::before {
            content: '';
            position: fixed;
            top: -30%;
            left: 20%;
            width: 800px;
            height: 800px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(56, 189, 248, 0.03), transparent 60%);
            z-index: -1;
            filter: blur(100px);
            animation: pulse 10s infinite ease-in-out;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 0.5; }
            50% { transform: scale(1.1); opacity: 0.8; }
        }

        header {
            padding: 1rem; /* Reduced padding */
            text-align: center;
            z-index: 10;
        }

        h1 {
            font-size: 2.2rem;
            margin-bottom: 0;
            color: #fff;
            font-weight: 700;
            letter-spacing: -1px;
            text-shadow: 0 2px 10px rgba(0,0,0,0.5);
        }

        main {
            flex: 1;
            max-width: 800px;
            margin: 0.5rem auto; /* Very small margin from top */
            padding: 0 1rem;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            z-index: 10;
        }

        /* Progress Bar */
        .progress-bar-container {
            width: 100%;
            background-color: #0f0f0f;
            border-radius: 4px;
            margin-bottom: 1.5rem;
            height: 4px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: var(--accent);
            width: 0%;
            transition: width 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 0 10px rgba(56, 189, 248, 0.6);
        }

        /* Quiz Card */
        .quiz-card {
            background: var(--card-bg);
            border: var(--card-border);
            box-shadow: var(--card-glow);
            border-radius: 14px;
            padding: 1.5rem;
            width: 100%;
            animation: fadeIn 0.4s ease;
            position: relative;
            backdrop-filter: blur(10px);
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 0.8rem;
            border-bottom: 1px solid rgba(56, 189, 248, 0.3);
        }

        .question-number {
            font-size: 0.75rem; /* Smaller font */
            color: var(--accent);
            font-weight: 700;
            letter-spacing: 1px;
            text-transform: uppercase;
        }

        .question-text {
            font-size: 1.15rem; /* Adjusted for readability */
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #fff;
            line-height: 1.4;
        }

        .question-translation {
            font-family: 'Cairo', sans-serif;
            color: #94a3b8;
            font-size: 0.95rem; /* Smaller translation */
            margin-bottom: 1.5rem;
            direction: rtl;
            text-align: right;
            border-right: 3px solid var(--accent);
            padding-right: 10px;
            background: rgba(255,255,255,0.03);
            padding: 0.6rem;
            border-radius: 6px;
        }

        .options-grid {
            display: grid;
            gap: 0.6rem;
        }

        .option-btn {
            background-color: #27272a;
            border: 1px solid #3f3f46;
            color: #e2e8f0;
            padding: 0.8rem 1rem; /* Compact padding */
            border-radius: 8px;
            cursor: pointer;
            text-align: left;
            font-family: inherit;
            font-size: 0.9rem; /* Smaller font */
            transition: all 0.2s ease;
            position: relative;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .option-btn:hover:not(:disabled) {
            background-color: #3f3f46;
            border-color: #52525b;
            transform: translateX(3px);
        }

        .option-btn:disabled {
            cursor: default;
            opacity: 1;
        }

        .option-btn.correct {
            border-color: var(--correct);
            background-color: rgba(16, 185, 129, 0.1);
            color: #34d399;
        }

        .option-btn.wrong {
            border-color: var(--wrong);
            background-color: rgba(239, 68, 68, 0.1);
            color: #f87171;
        }

        /* Controls */
        .quiz-controls {
            margin-top: 1.5rem;
            display: flex;
            flex-wrap: wrap;
            gap: 0.8rem;
            justify-content: space-between;
            align-items: center;
            border-top: 1px solid rgba(56, 189, 248, 0.3);
            padding-top: 1.2rem;
        }

        .control-group-left {
            display: flex;
            gap: 0.5rem;
        }
        
        .control-group-right { margin-left: auto; }

        .nav-btn {
            padding: 0.6rem 1.2rem; /* Compact buttons */
            border-radius: 6px;
            font-weight: 600;
            font-size: 0.8rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.4rem;
            transition: all 0.2s;
            border: none;
            outline: none;
            letter-spacing: 0.5px;
        }

        .btn-back {
            background: transparent;
            border: 1px solid #52525b;
            color: #a1a1aa;
        }
        .btn-back:hover:not(:disabled) {
            border-color: #e4e4e7;
            color: #e4e4e7;
        }
        .btn-back:disabled { opacity: 0.3; cursor: not-allowed; }

        .btn-skip {
            background: #27272a;
            color: #e4e4e7;
            border: 1px solid #3f3f46;
        }
        .btn-skip:hover { background: #3f3f46; }

        .btn-next {
            background: #fff;
            color: #000;
            border: 1px solid #fff;
        }
        .btn-next:hover { background: #e4e4e7; transform: translateY(-1px); }

        .btn-hint {
            background: transparent;
            color: #fbbf24;
            border: 1px solid #fbbf24;
            padding: 0.6rem;
        }
        .btn-hint:hover { background: rgba(251, 191, 36, 0.1); }

        /* Hint Box */
        .hint-box {
            margin-top: 1rem;
            background-color: #000;
            padding: 1rem;
            border-radius: 8px;
            font-size: 0.85rem;
            border: 1px solid #333;
            border-left: 3px solid #fbbf24;
            display: none;
            animation: fadeIn 0.3s ease;
            color: #fbbf24;
        }
        .hint-box.visible { display: block; }
        .hint-box strong { color: #fff; margin-right: 5px; text-transform: uppercase; font-size: 0.7rem; }
        .hint-text-ar { color: #fbbf24; margin-top: 0.5rem; font-weight: 600; }

        /* Score Board */
        .score-board {
            text-align: center;
            display: none;
            width: 100%;
            background: var(--card-bg);
            border: var(--card-border);
            box-shadow: var(--card-glow);
            border-radius: 12px;
            padding: 2rem 1rem;
            animation: slideUp 0.4s ease;
        }

        .score-circle {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            border: 4px solid var(--accent);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 1.5rem auto;
            font-size: 2rem;
            font-weight: 700;
            color: #fff;
            background: rgba(0,0,0,0.3);
            position: relative;
            box-shadow: 0 0 20px rgba(56, 189, 248, 0.2);
        }
        .score-percentage { position: absolute; font-size: 0.85rem; bottom: 25px; color: #71717a; }

        .restart-btn {
            background: transparent;
            border: 1px solid #fff;
            color: #fff;
            padding: 0.8rem 2rem;
            border-radius: 6px;
            font-size: 0.9rem;
            cursor: pointer;
            margin-top: 1.5rem;
            transition: all 0.2s;
            font-weight: 500;
        }
        .restart-btn:hover { background: #fff; color: #000; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 0; transform: translateY(0); } }

        /* Footer */
        .footer {
            padding: 1.5rem 1rem;
            text-align: center;
            margin-top: auto;
            position: relative;
        }

        .creator-badge {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            background: rgba(0,0,0,0.4);
            color: #fff;
            padding: 0.6rem 1.2rem;
            border-radius: 6px;
            font-size: 0.8rem;
            border: 1px solid var(--accent);
            font-family: var(--code-font);
            box-shadow: 0 0 10px rgba(56, 189, 248, 0.15);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            text-decoration: none;
            letter-spacing: 0.3px;
            white-space: nowrap;
        }
        
        .creator-badge:hover {
            transform: translateY(-2px);
            box-shadow: 0 0 20px rgba(56, 189, 248, 0.4);
            background: rgba(56, 189, 248, 0.1);
            border-color: #fff;
        }

        .code-symbol {
            color: var(--accent);
            font-weight: bold;
            font-size: 1rem;
        }
        
        .code-name {
            background: linear-gradient(90deg, #fff, #a5b4fc);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 600;
        }

        /* Mobile Optimization */
        @media (max-width: 600px) {
            header { padding: 0.5rem; }
            .quiz-card { padding: 1.2rem; margin-top: 0.5rem; }
            .question-text { font-size: 1rem; line-height: 1.4; margin-bottom: 0.5rem; }
            .question-translation { font-size: 0.85rem; padding: 0.5rem; margin-bottom: 1rem; }
            .option-btn { padding: 0.7rem 0.9rem; font-size: 0.85rem; }
            .quiz-controls { flex-direction: column; gap: 0.8rem; align-items: stretch; margin-top: 1.2rem; }
            .control-group-left, .control-group-right { width: 100%; justify-content: space-between; margin: 0; }
            .nav-btn { flex: 1; justify-content: center; padding: 0.7rem; } 
            .btn-hint { width: 100%; justify-content: center; margin-top: 0; }
            .creator-badge { font-size: 0.7rem; padding: 0.5rem 0.8rem; }
        }
    </style>
</head>
<body>

    <header>
        <h1>English Review</h1>
    </header>

    <main>
        <div class="progress-bar-container">
            <div id="progress-bar" class="progress-bar"></div>
        </div>

        <div id="quiz-container" style="width: 100%;">
            <!-- Question card injected here -->
        </div>

        <div id="score-container" class="score-board">
            <h2>Review Completed</h2>
            
            <div class="score-circle">
                <span id="final-percentage">0%</span>
            </div>
            
            <p id="score-text" style="font-size: 1.2rem; margin-bottom: 0.5rem; font-weight: 600; color: #fff;"></p>
            <p id="correct-count" class="ar" style="font-size: 1rem; color: var(--text-secondary);"></p>
            
            <button class="restart-btn" onclick="restartQuiz()">
                <i class="fas fa-redo"></i> Restart Review / إعادة
            </button>
        </div>
    </main>

    <footer class="footer">
        <div class="creator-badge">
            <span class="code-symbol">&lt; / &gt;</span>
            <span>Created by <span class="code-name">Programmer Bilal Mohammed</span></span>
        </div>
    </footer>

    <script>
        // Data strictly extracted from Revision.pdf
        const quizData = [
            {
                question: "This restaurant is very noisy. Can we go somewhere .........?",
                translation: "هذا المطعم صاخب جداً. هل يمكننا الذهاب إلى مكان ...؟",
                options: ["quiet", "quietest", "quieter"],
                correct: 2,
                hintEn: "Comparative form needed.",
                hintAr: "صيغة مقارنة."
            },
            {
                question: "My dad never lets anything stop him. He is",
                translation: "والدي لا يدع أي شيء يوقفه أبداً. هو ...",
                options: ["determined", "intelligent", "ambitious"],
                correct: 0,
                hintEn: "Strong-willed.",
                hintAr: "عازم/مصمم."
            },
            {
                question: "Free-diving is ........than you think.",
                translation: "الغوص الحر هو ... مما تعتقد.",
                options: ["dangerous", "more dangerous", "danger"],
                correct: 1,
                hintEn: "Long adjective comparison.",
                hintAr: "مقارنة صفة طويلة."
            },
            {
                question: "She has no ......... after working hard all year.",
                translation: "ليس لديها ... بعد العمل بجد طوال العام.",
                options: ["energetic", "energy", "mental"],
                correct: 1,
                hintEn: "Noun needed.",
                hintAr: "نحتاج اسم."
            },
            {
                question: "She gives her money to others, she is",
                translation: "هي تعطي مالها للآخرين، هي ...",
                options: ["intelligent", "generous", "stingy"],
                correct: 1,
                hintEn: "Sharing freely.",
                hintAr: "كريم/سخي."
            },
            {
                question: "My brothers usually .... in their sleep.",
                translation: "إخوتي عادة ... أثناء نومهم.",
                options: ["talks", "talked", "had talked", "talk"],
                correct: 3,
                hintEn: "Plural subject + Present Simple.",
                hintAr: "فاعل جمع + مضارع بسيط."
            },
            {
                question: "............ your lessons this week?",
                translation: "هل ... دروسك هذا الأسبوع؟",
                options: ["Are you studying", "Do you study", "Did you study", "Have you studied"],
                correct: 0,
                hintEn: "Temporary action 'this week'.",
                hintAr: "فعل مؤقت 'هذا الأسبوع' (مضارع مستمر)."
            },
            {
                question: "He is ............ Than his friend.",
                translation: "هو ... من صديقه.",
                options: ["tall", "taller", "tallest", "more tall"],
                correct: 1,
                hintEn: "Short adjective comparison.",
                hintAr: "مقارنة صفة قصيرة."
            },
            {
                question: "She is the ............ person I have ever seen.",
                translation: "هي ... شخص رأيته في حياتي.",
                options: ["friendly", "friendlier", "friendliest", "most friendly"],
                correct: 2,
                hintEn: "Superlative (y -> iest).",
                hintAr: "تفضيل."
            },
            {
                question: "They ............ their homework now.",
                translation: "هم ... واجبهم الآن.",
                options: ["are doing", "do", "did", "doing"],
                correct: 0,
                hintEn: "'Now' indicates continuous action.",
                hintAr: "'الآن' تشير للمستمر."
            },
            {
                question: "What type of music ............ you like?",
                translation: "ما نوع الموسيقى الذي ... تفضله؟",
                options: ["does", "do", "are"],
                correct: 1,
                hintEn: "Question auxiliary for 'you'.",
                hintAr: "فعل مساعد للسؤال مع 'you'."
            },
            {
                question: "My best friend ............ an English course this year.",
                translation: "صديقي المفضل ... دورة إنجليزية هذا العام.",
                options: ["takes", "is taking", "taken"],
                correct: 1,
                hintEn: "Temporary action 'this year'.",
                hintAr: "حدث مؤقت 'هذا العام'."
            },
            {
                question: "............ Sally come last year?",
                translation: "هل ... سالي أتت العام الماضي؟",
                options: ["Did", "Does", "Do"],
                correct: 0,
                hintEn: "Past Simple question.",
                hintAr: "سؤال ماضي بسيط."
            },
            {
                question: "My brothers usually in their sleep.",
                translation: "إخوتي عادة في نومهم.",
                options: ["talks", "talked", "talk"],
                correct: 2,
                hintEn: "Habitual action.",
                hintAr: "فعل روتيني."
            },
            {
                question: "............ your lessons this week?",
                translation: "هل ... دروسك هذا الأسبوع؟",
                options: ["Are you studying", "Do you study", "Did you study"],
                correct: 0,
                hintEn: "Present Continuous for temporary action.",
                hintAr: "مضارع مستمر للأحداث المؤقتة."
            },
            {
                question: "Helen ......... a meeting next week at 10 am.",
                translation: "هيلين ... اجتماعاً الأسبوع المقبل الساعة 10 صباحاً.",
                options: ["has", "having", "is having", "is"],
                correct: 2,
                hintEn: "Future arrangement.",
                hintAr: "ترتيب مستقبلي."
            },
            {
                question: "The room is dirty. I'm ......... it later.",
                translation: "الغرفة قذرة. أنا ... تنظيفها لاحقاً.",
                options: ["going to clean", "cleaning", "going to cleaning", "will clean"],
                correct: 0,
                hintEn: "Intention (going to).",
                hintAr: "نية."
            },
            {
                question: "I always ......... a snack between breakfast and lunch.",
                translation: "أنا دائماً ... وجبة خفيفة بين الإفطار والغداء.",
                options: ["has", "have", "took", "tasted"],
                correct: 1,
                hintEn: "Habitual action (I have).",
                hintAr: "عادة."
            },
            {
                question: "Do you ......... chocolate milk?",
                translation: "هل ... حليب الشوكولاتة؟",
                options: ["like", "likes", "be like", "liked"],
                correct: 0,
                hintEn: "Base verb after 'Do'.",
                hintAr: "مصدر بعد 'Do'."
            },
            {
                question: "I'm into most kinds of art, so I ......... which gallery we go to.",
                translation: "أحب معظم أنواع الفن، لذلك أنا ... أي معرض نذهب إليه.",
                options: ["really like", "don't like", "don't mind", "hate"],
                correct: 2,
                hintEn: "It doesn't matter to me.",
                hintAr: "لا مانع لدي."
            },
            {
                question: "Heba is ......... than her sister.",
                translation: "هبة ... من أختها.",
                options: ["more young", "younger", "the youngest", "as young"],
                correct: 1,
                hintEn: "Comparative.",
                hintAr: "مقارنة."
            },
            {
                question: "This is ......... day of the year so far.",
                translation: "هذا هو ... يوم في السنة حتى الآن.",
                options: ["wetter", "wettest", "the wettest", "more wet"],
                correct: 2,
                hintEn: "Superlative.",
                hintAr: "تفضيل."
            },
            {
                question: "People sometimes don't ......... what they say they will do.",
                translation: "الناس أحياناً لا ... ما يقولون أنهم سيفعلونه.",
                options: ["doing", "does", "do", "did"],
                correct: 2,
                hintEn: "Base verb after don't.",
                hintAr: "مصدر بعد don't."
            },
            {
                question: "I talk ......... the phone every day.",
                translation: "أتحدث ... الهاتف كل يوم.",
                options: ["on", "in", "after", "at"],
                correct: 0,
                hintEn: "Preposition: On the phone.",
                hintAr: "على الهاتف."
            },
            {
                question: "My brother is two years ......... me.",
                translation: "أخي أكبر ... مني بسنتين.",
                options: ["older than", "oldest", "more older", "older"],
                correct: 0,
                hintEn: "Comparative for age.",
                hintAr: "مقارنة للعمر."
            },
            {
                question: "A student who understands things easily is",
                translation: "الطالب الذي يفهم الأشياء بسهولة هو ...",
                options: ["ambitious", "intelligent", "determined", "energetic"],
                correct: 1,
                hintEn: "Smart.",
                hintAr: "ذكي."
            },
            {
                question: "The museum ......... at 9 a.m. every single morning.",
                translation: "المتحف ... الساعة 9 صباحاً كل صباح.",
                options: ["opens", "is opening", "opened", "open"],
                correct: 0,
                hintEn: "Daily routine.",
                hintAr: "روتين يومي."
            },
            {
                question: "It ......... a beautiful day today.",
                translation: "إنه ... يوم جميل اليوم.",
                options: ["is", "are", "were", "Am"],
                correct: 0,
                hintEn: "Subject-Verb agreement.",
                hintAr: "توافق الفاعل مع الفعل."
            },
            {
                question: "Robert ......... not go to my school.",
                translation: "روبرت ... لا يذهب إلى مدرستي.",
                options: ["is", "does", "are", "are"],
                correct: 1,
                hintEn: "Present simple negation.",
                hintAr: "نفي المضارع البسيط."
            },
            {
                question: "My parents ......... in a two-bedroom apartment.",
                translation: "والداي ... في شقة من غرفتين.",
                options: ["live", "lives", "is live", "are live"],
                correct: 0,
                hintEn: "Plural subject.",
                hintAr: "فاعل جمع."
            },
            {
                question: "I want to buy ......... new blue shirt for the party this weekend.",
                translation: "أريد شراء ... قميص أزرق جديد للحفلة.",
                options: ["a", "an", "the", "none"],
                correct: 0,
                hintEn: "Indefinite article.",
                hintAr: "أداة نكرة."
            },
            {
                question: "We ............ European.",
                translation: "نحن ... أوروبيون.",
                options: ["do be", "are", "do are", "is"],
                correct: 1,
                hintEn: "Verb to be (plural).",
                hintAr: "فعل الكينونة للجمع."
            },
            {
                question: "Today's weather is ......... than yesterday's.",
                translation: "طقس اليوم ... من طقس الأمس.",
                options: ["good", "well", "better", "best"],
                correct: 2,
                hintEn: "Irregular comparative.",
                hintAr: "مقارنة غير منتظمة."
            },
            {
                question: "You ......... so happy today!",
                translation: "أنت ... سعيداً جداً اليوم!",
                options: ["looks", "seem", "Be", "is"],
                correct: 1,
                hintEn: "Sense verbs.",
                hintAr: "أفعال الحواس/الظهور."
            },
            {
                question: "John ......... the country yesterday.",
                translation: "جون ... البلاد أمس.",
                options: ["left", "leaves", "leave", "leaving"],
                correct: 0,
                hintEn: "Past simple indicator 'yesterday'.",
                hintAr: "دلالة الماضي البسيط 'أمس'."
            }
        ];

        let currentQuestionIndex = 0;
        let userAnswers = new Array(quizData.length).fill(null); 

        const container = document.getElementById('quiz-container');
        const scoreContainer = document.getElementById('score-container');
        const progressBar = document.getElementById('progress-bar');

        function updateProgress() {
            if (quizData.length === 0) return;
            const answeredCount = userAnswers.filter(a => a !== null).length;
            const progress = (answeredCount / quizData.length) * 100;
            progressBar.style.width = `${progress}%`;
        }

        function loadQuestion(index) {
            if (quizData.length === 0) {
                container.innerHTML = `
                    <div class="quiz-card" style="text-align:center; padding: 4rem 2rem;">
                        <h2 style="color: #fff;">No Questions Added</h2>
                    </div>
                `;
                return;
            }

            updateProgress();
            
            if (index >= quizData.length) {
                showSummary();
                return;
            }

            const item = quizData[index];
            const savedAnswer = userAnswers[index];
            const isAnswered = savedAnswer !== null;

            container.innerHTML = ''; 

            const card = document.createElement('div');
            card.className = 'quiz-card';

            const optionsHtml = item.options.map((opt, optIndex) => {
                let extraClass = '';
                let iconHtml = '<span class="icon-placeholder"></span>';
                
                if (isAnswered) {
                    if (optIndex === item.correct) {
                        extraClass = 'correct';
                        iconHtml = '<i class="fas fa-check-circle"></i>';
                    } else if (optIndex === savedAnswer.selectedIndex) {
                        extraClass = 'wrong';
                        iconHtml = '<i class="fas fa-times-circle"></i>';
                    }
                }

                return `
                <button class="option-btn ${extraClass}" 
                        onclick="checkAnswer(${optIndex}, this)"
                        ${isAnswered ? 'disabled' : ''}>
                    <span><span style="opacity:0.6; margin-right:8px;">${String.fromCharCode(65 + optIndex)}.</span> ${opt}</span>
                    ${iconHtml}
                </button>
            `}).join('');

            const nextDisplay = isAnswered ? 'flex' : 'none';
            const skipDisplay = isAnswered ? 'none' : 'flex';

            card.innerHTML = `
                <div class="question-header">
                    <span class="question-number">QUESTION ${index + 1} OF ${quizData.length}</span>
                </div>
                <div class="question-text">${item.question}</div>
                <div class="question-translation">${item.translation}</div>
                
                <div class="options-grid">
                    ${optionsHtml}
                </div>

                <div class="quiz-controls">
                    <div class="control-group-left">
                         <button class="nav-btn btn-back" onclick="prevQuestion()" ${index === 0 ? 'disabled' : ''}>
                            <i class="fas fa-arrow-left"></i> Back / السابق
                        </button>
                        <button class="nav-btn btn-hint" onclick="toggleHint('hint-box')">
                            <i class="far fa-lightbulb"></i> Hint / تلميح
                        </button>
                    </div>

                    <div class="control-group-right">
                        <button id="skip-btn" class="nav-btn btn-skip" style="display: ${skipDisplay};" onclick="skipQuestion()">
                            Skip / تخطي <i class="fas fa-forward"></i>
                        </button>
                        <button id="next-btn" class="nav-btn btn-next" style="display: ${nextDisplay};" onclick="nextQuestion()">
                            Next / التالي <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>
                
                <div id="hint-box" class="hint-box">
                    <div><strong>Hint:</strong> ${item.hintEn}</div>
                    <div class="hint-text-ar ar"><strong>تلميح:</strong> ${item.hintAr}</div>
                </div>
            `;

            container.appendChild(card);
        }

        function checkAnswer(selectedOptionIndex, btnElement) {
            const question = quizData[currentQuestionIndex];
            const isCorrect = selectedOptionIndex === question.correct;
            
            userAnswers[currentQuestionIndex] = {
                selectedIndex: selectedOptionIndex,
                isCorrect: isCorrect
            };

            const parent = btnElement.parentElement;
            const buttons = parent.querySelectorAll('.option-btn');
            
            buttons.forEach(btn => btn.disabled = true);

            if (isCorrect) {
                btnElement.classList.add('correct');
                btnElement.querySelector('.icon-placeholder').innerHTML = '<i class="fas fa-check-circle"></i>';
            } else {
                btnElement.classList.add('wrong');
                btnElement.querySelector('.icon-placeholder').innerHTML = '<i class="fas fa-times-circle"></i>';
                
                const correctBtn = buttons[question.correct];
                correctBtn.classList.add('correct');
                correctBtn.querySelector('.icon-placeholder').innerHTML = '<i class="fas fa-check-circle"></i>';
            }

            document.getElementById('skip-btn').style.display = 'none';
            document.getElementById('next-btn').style.display = 'flex';
            
            updateProgress();
        }

        function nextQuestion() {
            currentQuestionIndex++;
            loadQuestion(currentQuestionIndex);
        }

        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion(currentQuestionIndex);
            }
        }

        function skipQuestion() {
            currentQuestionIndex++;
            loadQuestion(currentQuestionIndex);
        }

        function toggleHint(hintId) {
            const hintBox = document.getElementById(hintId);
            hintBox.classList.toggle('visible');
        }

        function showSummary() {
            container.style.display = 'none';
            scoreContainer.style.display = 'block';
            progressBar.style.width = '100%';
            
            const correctCount = userAnswers.filter(a => a && a.isCorrect).length;
            const percentage = Math.round((correctCount / quizData.length) * 100);
            
            document.getElementById('final-percentage').textContent = `${percentage}%`;
            document.getElementById('correct-count').textContent = `You answered ${correctCount} out of ${quizData.length} correctly`;
            
            const textEl = document.getElementById('score-text');
            
            if (percentage === 100) {
                textEl.textContent = "Perfect Score!";
                textEl.style.color = "#38bdf8";
            } else if (percentage >= 70) {
                textEl.textContent = "Great Job!";
                textEl.style.color = "#818cf8";
            } else if (percentage >= 50) {
                textEl.textContent = "Good";
                textEl.style.color = "#ffffff";
            } else {
                textEl.textContent = "Keep Practicing";
                textEl.style.color = "#ff416c";
            }
        }

        function restartQuiz() {
            currentQuestionIndex = 0;
            userAnswers = new Array(quizData.length).fill(null);
            scoreContainer.style.display = 'none';
            container.style.display = 'block';
            loadQuestion(0);
        }

        // Initialize
        loadQuestion(0);
    </script>
</body>
</html>